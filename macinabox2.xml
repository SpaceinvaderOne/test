<?xml version="1.0"?>
<Container version="2">
  <Name>Macinabox</Name>
  <Repository>spaceinvaderone/macinabox2</Repository>
  <Registry>https://hub.docker.com/r/spaceinvaderone/macinabox</Registry>
  <Network>bridge</Network>
  <MyIP/>
  <Shell/>
  <Privileged>true</Privileged>
  <Support>https://forums.unraid.net/topic/84601-support-spaceinvaderone-macinabox/</Support>
  <Project>https://github.com/SpaceinvaderOne/Macinabox</Project>
  <Overview>This container can download macOS either Catalina, Mojave or HighSierra. It will download the install media from Apple servers and convert it to a usable format for use for a VM.&#xD;
 It will also create the correct XML for the VM along with the corresponding icon.&#xD;
 It can be run in 2 ways as a full install (easiest) which will set up everything or preparation install which will prepare all the files and put them in the AppData folder under macinabox.&#xD;
 &#xD;
 Usage&#xD;
 &#xD;
 Install VM 		--full &#xD;
  will download MacOS and install needed files into your VM location. (requires the array to the stopped and started after the container is run for VM to show in the VM list)&#xD;
            		--prepare&#xD;
   will download MacOS and put all needed files into AppData ready for manual use.&#xD;
 		   &#xD;
 		   &#xD;
 macOS version  	Choose version from below&#xD;
 				--mojave&#xD;
 				--high-sierra&#xD;
 				--catalina&#xD;
 				&#xD;
 Vm image      Location of your vm share ( defualt /mnt/user/domains/ )&#xD;
 &#xD;
 TYPE&#xD;
 choose type od vdisk  qcow2  or raw&#xD;
 &#xD;
 vdisksize     the size you want your vdisk to be created</Overview>
  <Category>Tools:Utilities</Category>
  <WebUI>http://[IP]:[PORT:7800]</WebUI>
  <TemplateURL>https://raw.githubusercontent.com/SpaceinvaderOne/Docker-Templates-Unraid/master/spaceinvaderone/macinabox.xml</TemplateURL>
  <Icon>https://raw.githubusercontent.com/SpaceinvaderOne/Docker-Templates-Unraid/master/spaceinvaderone/docker_icons/Macinabox.png</Icon>
  <ExtraParams/>
  <PostArgs/>
  <CPUset/>
  <DateInstalled>1606513730</DateInstalled>
  <DonateText>If you like this then please consider buying me a beer!! :D</DonateText>
  <DonateLink>https://www.paypal.me/spaceinvader</DonateLink>
  <Description>This container can download macOS either Catalina, Mojave or HighSierra. It will download the install media from Apple servers and convert it to a usable format for use for a VM.&#xD;
 It will also create the correct XML for the VM along with the corresponding icon.&#xD;
 It can be run in 2 ways as a full install (easiest) which will set up everything or preparation install which will prepare all the files and put them in the AppData folder under macinabox.&#xD;
 &#xD;
 Usage&#xD;
 &#xD;
 Install VM 		--full &#xD;
  will download MacOS and install needed files into your VM location. (requires the array to the stopped and started after the container is run for VM to show in the VM list)&#xD;
            		--prepare&#xD;
   will download MacOS and put all needed files into AppData ready for manual use.&#xD;
 		   &#xD;
 		   &#xD;
 macOS version  	Choose version from below&#xD;
 				--mojave&#xD;
 				--high-sierra&#xD;
 				--catalina&#xD;
 				&#xD;
 Vm image      Location of your vm share ( defualt /mnt/user/domains/ )&#xD;
 &#xD;
 TYPE&#xD;
 choose type od vdisk  qcow2  or raw&#xD;
 &#xD;
 vdisksize     the size you want your vdisk to be created</Description>
  <Networking>
    <Mode>bridge</Mode>
    <Publish>
      <Port>
        <HostPort>7800</HostPort>
        <ContainerPort>5800</ContainerPort>
        <Protocol>tcp</Protocol>
      </Port>
      <Port>
        <HostPort>7900</HostPort>
        <ContainerPort>5900</ContainerPort>
        <Protocol>tcp</Protocol>
      </Port>
    </Publish>
  </Networking>
  <Data>
    <Volume>
      <HostDir>/mnt/user/domains/</HostDir>
      <ContainerDir>/image</ContainerDir>
      <Mode>rw</Mode>
    </Volume>
    <Volume>
      <HostDir>/etc/libvirt/qemu/</HostDir>
      <ContainerDir>/xml</ContainerDir>
      <Mode>rw</Mode>
    </Volume>
    <Volume>
      <HostDir>/mnt/user/appdata/macinabox/macinabox</HostDir>
      <ContainerDir>/config2</ContainerDir>
      <Mode>rw</Mode>
    </Volume>
    <Volume>
      <HostDir>/mnt/user/appdata/macinabox/basesystem</HostDir>
      <ContainerDir>/Macinabox/tools/FetchMacOS/BaseSystem</ContainerDir>
      <Mode>rw</Mode>
    </Volume>
    <Volume>
      <HostDir>/mnt/user/appdata/macinabox/config</HostDir>
      <ContainerDir>/config</ContainerDir>
      <Mode>rw</Mode>
    </Volume>
    <Volume>
      <HostDir>/dev/urandom</HostDir>
      <ContainerDir>/dev/urandom</ContainerDir>
      <Mode>ro</Mode>
    </Volume>
  </Data>
  <Environment>
    <Variable>
      <Value>--bigsur</Value>
      <Name>flavour</Name>
      <Mode/>
    </Variable>
    <Variable>
      <Value>--prepare-install</Value>
      <Name>vminstall</Name>
      <Mode/>
    </Variable>
    <Variable>
      <Value>64G</Value>
      <Name>vdisksize</Name>
      <Mode/>
    </Variable>
    <Variable>
      <Value>raw</Value>
      <Name>TYPE</Name>
      <Mode/>
    </Variable>
    <Variable>
      <Value>both</Value>
      <Name>onlyvirt</Name>
      <Mode/>
    </Variable>
    <Variable>
      <Value>fetch-macos2.py</Value>
      <Name>fetch</Name>
      <Mode/>
    </Variable>
    <Variable>
      <Value>0</Value>
      <Name>USER_ID</Name>
      <Mode/>
    </Variable>
    <Variable>
      <Value>000</Value>
      <Name>UMASK</Name>
      <Mode/>
    </Variable>
    <Variable>
      <Value>0</Value>
      <Name>GROUP_ID</Name>
      <Mode/>
    </Variable>
    <Variable>
      <Value>1</Value>
      <Name>KEEP_APP_RUNNING</Name>
      <Mode/>
    </Variable>
    <Variable>
      <Value>768</Value>
      <Name>DISPLAY_HEIGHT</Name>
      <Mode/>
    </Variable>
    <Variable>
      <Value>1280</Value>
      <Name>DISPLAY_WIDTH</Name>
      <Mode/>
    </Variable>
  </Environment>
  <Labels/>
  <Config Name="webvnc" Target="5800" Default="5800" Mode="tcp" Description="webvnc container port 5800" Type="Port" Display="always" Required="false" Mask="false">7800</Config>
  <Config Name="vnc" Target="5900" Default="5900" Mode="tcp" Description="vnc container port 5900" Type="Port" Display="always" Required="false" Mask="false">7900</Config>
  <Config Name="Operating system" Target="flavour" Default="--catalina|--bigsur|--mojave|--high-sierra" Mode="" Description="Choose macOS version" Type="Variable" Display="always" Required="true" Mask="false">--bigsur</Config>
  <Config Name="VM Images location" Target="/image" Default="" Mode="rw" Description="normally /mnt/user/domains" Type="Path" Display="always" Required="false" Mask="false">/mnt/user/domains/</Config>
  <Config Name="Install vm " Target="vminstall" Default="--full-install|--prepare-install" Mode="" Description="Full or preparation install" Type="Variable" Display="always" Required="false" Mask="false">--prepare-install</Config>
  <Config Name="vdisk size" Target="vdisksize" Default="" Mode="" Description="Enter desired vdisk size" Type="Variable" Display="always" Required="false" Mask="false">64G</Config>
  <Config Name="vdisk type" Target="TYPE" Default="raw|qcow2" Mode="" Description="Choose vdisk type" Type="Variable" Display="always" Required="true" Mask="false">raw</Config>
  <Config Name="Run Macinabox, Virtmanger or both" Target="onlyvirt" Default="both|macinabox|virtmanager" Mode="" Description="Choose if you want to run only macinabox (no virtmanager), only virtmanager (no macinabox) or run both (first macinabox then run macinabox)" Type="Variable" Display="always" Required="false" Mask="false">both</Config>
  <Config Name="XML location" Target="/xml" Default="/etc/libvirt/qemu/" Mode="rw" Description="location of vm xml templates (dont change)" Type="Path" Display="always" Required="true" Mask="false">/etc/libvirt/qemu/</Config>
  <Config Name="fetch script" Target="fetch" Default="fetch-macos.py|fetch-macos2.py" Mode="" Description="Container Variable: fetch" Type="Variable" Display="always" Required="false" Mask="false">fetch-macos2.py</Config>
  <Config Name="appdata2" Target="/config2" Default="/mnt/user/appdata/macinabox/macinabox" Mode="rw" Description="appdata for macinabox part" Type="Path" Display="advanced" Required="false" Mask="false">/mnt/user/appdata/macinabox/macinabox</Config>
  <Config Name="Basesystem" Target="/Macinabox/tools/FetchMacOS/BaseSystem" Default="" Mode="rw" Description="Baseimage temp" Type="Path" Display="advanced" Required="true" Mask="false">/mnt/user/appdata/macinabox/basesystem</Config>
  <Config Name="appdata" Target="/config" Default="/mnt/user/appdata/macinabox" Mode="rw" Description="Appdata for macinabox" Type="Path" Display="advanced" Required="true" Mask="false">/mnt/user/appdata/macinabox/config</Config>
  <Config Name="USER_ID" Target="USER_ID" Default="99" Mode="" Description="Container Variable: USER_ID" Type="Variable" Display="advanced" Required="false" Mask="false">0</Config>
  <Config Name="UMASK" Target="UMASK" Default="000" Mode="" Description="Container Variable: UMASK" Type="Variable" Display="advanced" Required="false" Mask="false">000</Config>
  <Config Name="GROUP_ID" Target="GROUP_ID" Default="100" Mode="" Description="Container Variable: GROUP_ID" Type="Variable" Display="advanced" Required="false" Mask="false">0</Config>
  <Config Name="KEEP_APP_RUNNING" Target="KEEP_APP_RUNNING" Default="" Mode="" Description="KEEP_APP_RUNNING" Type="Variable" Display="advanced" Required="false" Mask="false">1</Config>
  <Config Name="Display Height" Target="DISPLAY_HEIGHT" Default="768" Mode="" Description="Height (in pixels) of the application's window." Type="Variable" Display="advanced" Required="false" Mask="false">768</Config>
  <Config Name="Display Width" Target="DISPLAY_WIDTH" Default="1280" Mode="" Description="Width (in pixels) of the application's window." Type="Variable" Display="advanced" Required="false" Mask="false">1280</Config>
  <Config Name="/dev/urandom" Target="/dev/urandom" Default="/dev/urandom" Mode="ro" Description="Container Path: /dev/urandom" Type="Path" Display="advanced" Required="false" Mask="false">/dev/urandom</Config>
</Container>
